(this.webpackJsonpclient2=this.webpackJsonpclient2||[]).push([[0],{21:function(e,n,t){},42:function(e,n,t){},43:function(e,n,t){"use strict";t.r(n);var r=t(2),a=t.n(r),s=t(16),c=t.n(s),u=(t(21),t(1)),o=t.n(u),i=t(4),l=t(6),p=t(0),d=function(e){var n=e.handleLogin,t=e.handleUsernameChange,r=e.handlePasswordChange,a=e.username,s=e.password;return Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"Login"}),Object(p.jsxs)("form",{onSubmit:n,children:[Object(p.jsxs)("label",{htmlFor:"username",children:["username:",Object(p.jsx)("input",{type:"text",name:"username",id:"username",value:a,onChange:t})]}),Object(p.jsxs)("label",{htmlFor:"password",children:["password:",Object(p.jsx)("input",{type:"text",name:"password",id:"password",value:s,onChange:r})]}),Object(p.jsx)("button",{type:"submit",children:"login"})]})]})},h=function(e){var n=e.handleSignup,t=e.handleUsernameChange,r=e.handlePasswordChange,a=e.username,s=e.password;return Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"Signup"}),Object(p.jsxs)("form",{onSubmit:n,children:[Object(p.jsxs)("label",{htmlFor:"username",children:["username:",Object(p.jsx)("input",{type:"text",name:"username",id:"username",value:a,onChange:t})]}),Object(p.jsxs)("label",{htmlFor:"password",children:["password:",Object(p.jsx)("input",{type:"text",name:"password",id:"password",value:s,onChange:r})]}),Object(p.jsx)("button",{type:"submit",children:"signup"})]})]})},j=t(5),b=t.n(j),f={login:function(){var e=Object(i.a)(o.a.mark((function e(n){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("/api/login",n);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),signup:function(){var e=Object(i.a)(o.a.mark((function e(n){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("/api/users",n);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},g="/api/temp",v=null,O={setToken:function(e){v="bearer ".concat(e)},getAll:function(){var e=Object(i.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(g);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getOne:function(){var e=Object(i.a)(o.a.mark((function e(n){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("".concat(g,"/").concat(n));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),create:function(){var e=Object(i.a)(o.a.mark((function e(n){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:v}},e.next=3,b.a.post(g,n,t);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),update:function(e,n){return b.a.put("".concat(g,"/").concat(e),n).data}},x=function(e){var n=Object(r.useState)(""),t=Object(l.a)(n,2),a=t[0],s=t[1],c=Object(r.useState)(""),u=Object(l.a)(c,2),j=u[0],b=u[1],g=Object(r.useState)(null),v=Object(l.a)(g,2)[1],x=Object(r.useState)(null),m=Object(l.a)(x,2)[1],w=Object(r.useState)(!1),y=Object(l.a)(w,2),k=y[0],C=y[1],S=Object(r.useState)(!1),F=Object(l.a)(S,2),I=F[0],P=F[1];Object(r.useEffect)((function(){var e=window.localStorage.getItem("loggedInUser");if(e){var n=JSON.parse(e);v(n),O.setToken(n.token)}}),[]);var U=function(){var e=Object(i.a)(o.a.mark((function e(n){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,f.login({username:a,password:j});case 4:t=e.sent,window.localStorage.setItem("loggedInUser",JSON.stringify(t)),O.setToken(t.token),v(t),s(""),b(""),e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(1),console.log(e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(n){return e.apply(this,arguments)}}(),L=function(){var e=Object(i.a)(o.a.mark((function e(n){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,f.signup({username:a,password:j});case 4:t=e.sent,m(t),s(""),b(""),e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(1),console.log(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}(),T=function(e){if("login"===e)C(!0),P(!1);else{if("signup"!==e)return;C(!1),P(!0)}};return Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{onClick:function(){return T("login")},children:"login"}),Object(p.jsx)("button",{onClick:function(){return T("signup")},children:"signup"}),Object(p.jsx)("div",{style:{display:k?"":"none"},children:Object(p.jsx)(d,{handleLogin:U,handleUsernameChange:function(e){var n=e.target;return s(n.value)},handlePasswordChange:function(e){var n=e.target;return b(n.value)},username:a,password:j})}),Object(p.jsx)("div",{style:{display:I?"":"none"},children:Object(p.jsx)(h,{handleSignup:L,handleUsernameChange:function(e){var n=e.target;return s(n.value)},handlePasswordChange:function(e){var n=e.target;return b(n.value)},username:a,password:j})})]})};t(42);var m=function(){return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)("h1",{children:"App"}),Object(p.jsx)(x,{})]})},w=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,44)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,s=n.getLCP,c=n.getTTFB;t(e),r(e),a(e),s(e),c(e)}))};c.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(m,{})}),document.getElementById("root")),w()}},[[43,1,2]]]);
//# sourceMappingURL=main.d51f370c.chunk.js.map