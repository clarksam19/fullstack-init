(this.webpackJsonpclient2=this.webpackJsonpclient2||[]).push([[0],{21:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(16),c=n.n(s),u=(n(21),n(2)),o=n.n(u),i=n(4),l=n(6),p=n(0),d=function(e){var t=e.handleLogin,n=e.handleUsernameChange,r=e.handlePasswordChange,a=e.username,s=e.password;return Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"Login"}),Object(p.jsxs)("form",{onSubmit:t,children:[Object(p.jsxs)("label",{htmlFor:"username",children:["username:",Object(p.jsx)("input",{type:"text",name:"username",id:"username",value:a,onChange:n})]}),Object(p.jsxs)("label",{htmlFor:"password",children:["password:",Object(p.jsx)("input",{type:"text",name:"password",id:"password",value:s,onChange:r})]}),Object(p.jsx)("button",{type:"submit",children:"login"})]})]})},g=function(e){var t=e.handleSignup,n=e.handleUsernameChange,r=e.handlePasswordChange,a=e.username,s=e.password;return Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"Signup"}),Object(p.jsxs)("form",{onSubmit:t,children:[Object(p.jsxs)("label",{htmlFor:"username",children:["username:",Object(p.jsx)("input",{type:"text",name:"username",id:"username",value:a,onChange:n})]}),Object(p.jsxs)("label",{htmlFor:"password",children:["password:",Object(p.jsx)("input",{type:"text",name:"password",id:"password",value:s,onChange:r})]}),Object(p.jsx)("button",{type:"submit",children:"signup"})]})]})},h=function(e){var t=e.notification,n=t.type,r=t.message;return Object(p.jsx)("p",{style:{success:{color:"green",fontStyle:"italic",fontSize:16},error:{color:"red",background:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"}}[n],children:r})},b=n(5),j=n.n(b),f={login:function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),signup:function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("/api/users",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m="/api/temp",v=null,x={setToken:function(e){v="bearer ".concat(e)},getAll:function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get(m);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getOne:function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(m,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),create:function(){var e=Object(i.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:v}},e.next=3,j.a.post(m,t,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(e,t){return j.a.put("".concat(m,"/").concat(e),t).data}},O=function(e){return{reset:{type:"",message:""},success:{add:{type:"success",message:"content successfully added!"},update:{type:"success",message:"content successfully updated!"},remove:{type:"success",message:"content successfully removed!"},signup:{type:"success",message:"signup successfull! you may now login"},login:{type:"success",message:"hello ".concat(e,"!")},logout:{type:"success",message:"logout successfull!"}},error:{add:{type:"error",message:"sorry, we were unable to add the content"},update:{type:"error",message:"sorry, we were unable to update the content"},remove:{type:"error",message:"sorry, we were unable to update the content"},signup:{type:"error",message:"sorry, we were unable to create your account. you either left a field blank or the username you provided already exists"},login:{type:"error",message:"invalid username and/or password"}}}},w=function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(""),c=Object(l.a)(s,2),u=c[0],b=c[1],j=Object(r.useState)(null),m=Object(l.a)(j,2)[1],v=Object(r.useState)(null),w=Object(l.a)(v,2)[1],y=Object(r.useState)(!1),S=Object(l.a)(y,2),k=S[0],C=S[1],F=Object(r.useState)(!1),I=Object(l.a)(F,2),P=I[0],T=I[1],U=Object(r.useState)(O().reset),L=Object(l.a)(U,2),A=L[0],J=L[1];Object(r.useEffect)((function(){var e=window.localStorage.getItem("loggedInUser");if(e){var t=JSON.parse(e);m(t),x.setToken(t.token)}}),[]);var z=function(){setTimeout((function(){J(O().reset)}),5e3)},B=function(){var e=Object(i.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,f.login({username:n,password:u});case 4:r=e.sent,window.localStorage.setItem("loggedInUser",JSON.stringify(r)),x.setToken(r.token),m(r),a(""),b(""),J(O(r.username).success.login),z(),e.next=19;break;case 14:throw e.prev=14,e.t0=e.catch(1),J(O().error.login),z(),e.t0;case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(i.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,f.signup({username:n,password:u});case 4:r=e.sent,w(r),a(""),b(""),J(O().success.signup),z(),e.next=18;break;case 12:throw e.prev=12,e.t0=e.catch(1),console.log(e.t0),J(O().error.signup),z(),e.t0;case 18:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),N=function(e){if("login"===e)C(!0),T(!1);else{if("signup"!==e)return;C(!1),T(!0)}};return Object(p.jsxs)("div",{children:[Object(p.jsx)(h,{notification:A}),Object(p.jsx)("button",{onClick:function(){return N("login")},children:"login"}),Object(p.jsx)("button",{onClick:function(){return N("signup")},children:"signup"}),Object(p.jsx)("div",{style:{display:k?"":"none"},children:Object(p.jsx)(d,{handleLogin:B,handleUsernameChange:function(e){var t=e.target;return a(t.value)},handlePasswordChange:function(e){var t=e.target;return b(t.value)},username:n,password:u})}),Object(p.jsx)("div",{style:{display:P?"":"none"},children:Object(p.jsx)(g,{handleSignup:D,handleUsernameChange:function(e){var t=e.target;return a(t.value)},handlePasswordChange:function(e){var t=e.target;return b(t.value)},username:n,password:u})})]})};n(42);var y=function(){return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)("h1",{children:"App"}),Object(p.jsx)(w,{})]})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};c.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(y,{})}),document.getElementById("root")),S()}},[[43,1,2]]]);
//# sourceMappingURL=main.aaad0c52.chunk.js.map